{"version":3,"file":"react-genie.esm.js","sources":["../src/utils.ts","../src/animations.ts","../src/reveal-animations.ts","../src/Reveal.tsx","../src/AnimatedTitle.tsx","../src/reveal-context.tsx","../src/RevealProvider.tsx","../src/SequenceElement.tsx","../src/RevealElements.tsx","../src/RevealChildren.tsx"],"sourcesContent":["type Unit = string | number;\n\nexport const translate3d = (a: Unit, b: Unit, c: Unit) =>\n  `translate3d(${a}, ${b}, ${c})`;\n","import { translate3d } from './utils';\n\nexport const fadeInUp = {\n  from: {\n    opacity: 0,\n    transform: translate3d(0, '50px', 0),\n  },\n  to: {\n    opacity: 1,\n    transform: 'none',\n  },\n};\n","import { createGlobalStyle, keyframes } from 'styled-components';\nimport * as animations from './animations';\n\n// @ts-ignore\nimport fadeIn from 'react-animations/lib/fade-in';\n// @ts-ignore\nimport fadeInLeft from 'react-animations/lib/fade-in-left';\n// @ts-ignore\nimport fadeInRight from 'react-animations/lib/fade-in-right';\n// @ts-ignore\nimport slideInLeft from 'react-animations/lib/slide-in-left';\n// @ts-ignore\nimport slideInRight from 'react-animations/lib/slide-in-right';\n// @ts-ignore\nimport bounceInLeft from 'react-animations/lib/bounce-in-left';\n// @ts-ignore\nimport bounceInRight from 'react-animations/lib/bounce-in-right';\n\nexport enum Animation {\n  FadeInUp = 'fade-in-up',\n  FadeIn = 'fade-in',\n  SlideInLeft = 'slide-in-left',\n  SlideInRight = 'slide-in-right',\n  FadeInLeft = 'fade-in-left',\n  FadeInRight = 'fade-in-right',\n  BounceInLeft = 'bounce-in-left',\n  BounceInRight = 'bounce-in-right',\n}\n\nexport const RevealGlobalStyles = createGlobalStyle`\n\n  .${Animation.FadeInUp} {\n    animation: ${keyframes`${animations.fadeInUp}`} 500ms;\n  } \n  \n  .${Animation.FadeIn} {\n    animation: ${keyframes`${fadeIn}`} 500ms;\n  }\n  \n  .${Animation.SlideInLeft} {\n    animation: ${keyframes`${slideInLeft}`} 500ms;\n  }\n  \n  .${Animation.SlideInRight} {\n    animation: ${keyframes`${slideInRight}`} 500ms;\n  }\n\n  .${Animation.FadeInLeft} {\n    animation: ${keyframes`${fadeInLeft}`} 500ms;\n  }\n\n  .${Animation.FadeInRight} {\n    animation: ${keyframes`${fadeInRight}`} 500ms;\n  }\n\n  .${Animation.BounceInLeft} {\n    animation: ${keyframes`${bounceInLeft}`} 1250ms;\n  }\n\n  .${Animation.BounceInRight} {\n    animation: ${keyframes`${bounceInRight}`} 1250ms;\n  }\n`;\n","import { Property } from 'csstype';\nimport React, { useEffect, useState } from 'react';\nimport { useInView } from 'react-intersection-observer';\nimport { Animation } from './reveal-animations';\n\nexport enum RevealMode {\n  Clone,\n  Wrap,\n}\n\nexport const Reveal: React.FC<{\n  animation?: string; //animation class name\n  delay?: number;\n  children?: any;\n  mode?: RevealMode;\n  debugName?: string;\n  style?: React.CSSProperties;\n  onShowDone?: () => void;\n  onEnterView?: () => void;\n  wait?: boolean;\n}> = ({\n  children,\n  onShowDone,\n  mode = RevealMode.Wrap,\n  animation = Animation.FadeInUp,\n  delay = 0,\n  debugName,\n  style,\n  wait,\n  onEnterView,\n}) => {\n  const [ref, inView] = useInView({ triggerOnce: true });\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    if (debugName) {\n      console.log('Debugging', debugName);\n    }\n    if (inView) {\n      onEnterView && onEnterView();\n      if (wait !== true) {\n        if (debugName) {\n          console.log(`${debugName} is in view`);\n        }\n        setTimeout(() => {\n          setShow(true);\n          onShowDone && onShowDone();\n          if (debugName) {\n            console.log(`showing ${debugName}`);\n          }\n        }, delay);\n      }\n    }\n  }, [inView, wait]);\n\n  let className = show\n    ? animation\n    : children.props\n    ? children.props.className\n    : '';\n\n  let extraProps = {\n    className,\n    style: {\n      visibility: (show ? 'visible' : 'hidden') as Property.Visibility,\n      ...style,\n    },\n    ref,\n  };\n\n  if (mode === RevealMode.Clone) {\n    return React.cloneElement(children, extraProps);\n  }\n\n  return <div {...extraProps}>{children}</div>;\n};\n","import React from 'react';\nimport { Reveal } from './Reveal';\n\nexport const AnimatedTitle: React.FC<\n  {\n    children: string;\n    spaceBetweenWords?: number;\n    delay?: number;\n  } & React.HTMLAttributes<any>\n> = ({ children, delay = 100, spaceBetweenWords = 8, ...rest }) => {\n  const titleStyles = {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  } as React.CSSProperties;\n\n  const wordStyles = {\n    marginRight: spaceBetweenWords,\n  } as React.CSSProperties;\n\n  return (\n    <div style={titleStyles}>\n      {children.split(' ').map((word, index) => (\n        <Reveal key={index} delay={index * delay} style={wordStyles}>\n          <div {...rest}>{word}</div>\n        </Reveal>\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport { RevealProviderProps } from './RevealProvider';\n\ntype IndexState = { lastIndex: number; setLastIndex: (i: number) => void };\ntype ReavealContextValue = RevealProviderProps & IndexState;\n\nexport const RevealContext = React.createContext<ReavealContextValue | any>(\n  null\n);\n","import React, { useState } from 'react';\nimport { RevealMode } from 'Reveal';\nimport { RevealContext } from './reveal-context';\n\nexport type RevealProviderProps = {\n  delayBetween?: number;\n  initialDelay?: number;\n  disableDelay?: boolean;\n  mode?: RevealMode;\n  animation?: string;\n};\n\nexport const RevealProvider: React.FC<RevealProviderProps> = ({\n  children,\n  delayBetween = 200,\n  initialDelay = 0,\n  disableDelay = false,\n}) => {\n  const [lastIndex, setLastIndex] = useState<number>(0);\n  const [firstIndex, setFirstIndex] = useState<number | null>(null);\n\n  return (\n    <RevealContext.Provider\n      value={{\n        lastIndex,\n        firstIndex,\n        setFirstIndex,\n        setLastIndex,\n        delayBetween,\n        initialDelay,\n        disableDelay,\n      }}\n    >\n      {children}\n    </RevealContext.Provider>\n  );\n};\n\nexport default RevealProvider;\n","import React, { useContext } from 'react';\nimport { RevealProviderProps } from 'RevealProvider';\nimport { Reveal } from './Reveal';\nimport { RevealContext } from './reveal-context';\n\nexport const SequenceElement: React.FC<\n  {\n    children: any;\n    index: number;\n  } & RevealProviderProps\n> = ({ index, children, ...rest }) => {\n  const revealContext = useContext(RevealContext);\n\n  const config = {\n    ...revealContext,\n    ...rest,\n  };\n\n  const {\n    delayBetween,\n    initialDelay,\n    disableDelay,\n    mode,\n    animation,\n    lastIndex,\n    setLastIndex,\n    firstIndex,\n    setFirstIndex,\n  } = config;\n\n  const shouldWait = firstIndex === 0;\n  const wait = shouldWait ? index > lastIndex : false;\n  const isFirstElement = index === 0;\n  const firstElementDelay = initialDelay !== undefined ? initialDelay : 0;\n  const shouldDisableDelay = disableDelay || firstIndex !== 0;\n  const finalDelay = disableDelay\n    ? 0\n    : isFirstElement\n    ? firstElementDelay\n    : delayBetween;\n\n  return (\n    <Reveal\n      wait={wait}\n      mode={mode}\n      animation={animation}\n      onShowDone={() => setLastIndex(index + 1)}\n      onEnterView={() => {\n        if (firstIndex === null) {\n          setFirstIndex(index);\n        }\n      }}\n      delay={shouldDisableDelay ? 0 : finalDelay}\n      key={index}\n    >\n      {children}\n    </Reveal>\n  );\n};\n\nexport default SequenceElement;\n","import React, { ReactElement } from 'react';\nimport RevealProvider, { RevealProviderProps } from './RevealProvider';\nimport SequenceElement from './SequenceElement';\n\nexport const RevealElements: React.FC<\n  {\n    elements?: any;\n    children: (elem: any, index: number) => ReactElement;\n  } & RevealProviderProps\n> = ({ elements, children, ...rest }) => {\n  return (\n    <RevealProvider {...rest}>\n      {elements.map((elem: any, index: number) => {\n        return (\n          <SequenceElement index={index} key={index}>\n            {children(elem, index)}\n          </SequenceElement>\n        );\n      })}\n    </RevealProvider>\n  );\n};\n\nexport default RevealElements;\n","import React from 'react';\nimport SequenceElement from './SequenceElement';\nimport { RevealProvider, RevealProviderProps } from './RevealProvider';\n\nexport const RevealChildren: React.FC<RevealProviderProps> = ({\n  children,\n  ...rest\n}) => {\n  return (\n    <RevealProvider {...rest}>\n      {React.Children.map(children, (child: any, index: number) => (\n        <SequenceElement index={index} key={index}>\n          {child}\n        </SequenceElement>\n      ))}\n    </RevealProvider>\n  );\n};\n"],"names":["translate3d","a","b","c","fadeInUp","from","opacity","transform","to","Animation","RevealGlobalStyles","createGlobalStyle","FadeInUp","keyframes","animations","FadeIn","fadeIn","SlideInLeft","slideInLeft","SlideInRight","slideInRight","FadeInLeft","fadeInLeft","FadeInRight","fadeInRight","BounceInLeft","bounceInLeft","BounceInRight","bounceInRight","RevealMode","Reveal","children","onShowDone","mode","Wrap","animation","delay","debugName","style","wait","onEnterView","useInView","triggerOnce","ref","inView","useState","show","setShow","useEffect","console","log","setTimeout","className","props","extraProps","visibility","Clone","React","cloneElement","AnimatedTitle","spaceBetweenWords","rest","titleStyles","display","flexDirection","justifyContent","alignItems","flexWrap","wordStyles","marginRight","split","map","word","index","key","RevealContext","createContext","RevealProvider","delayBetween","initialDelay","disableDelay","lastIndex","setLastIndex","firstIndex","setFirstIndex","Provider","value","SequenceElement","revealContext","useContext","config","shouldWait","isFirstElement","firstElementDelay","undefined","shouldDisableDelay","finalDelay","RevealElements","elements","elem","RevealChildren","Children","child"],"mappings":"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"}